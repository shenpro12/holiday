<div class="Detail-container">

<div class="grid wide container">
    <div class="row">
        <div class="col l-6 m-6 c-12">
            <img class="detail-img" src="http://drive.google.com/uc?export=view&id={{data.thumb_url}}" alt="">
        </div>
        <div class="col l-6 m-6 c-12 text-left">
            <div style="margin: 1% 3%;">
                <h2>{{data.name}}</h2>
                <div class="is-divider"></div>
                <h2 class="price" id="price"></h2>
                <p class="description">{{data.description}}</p>
                <p><b>Địa chỉ:</b> {{data.location}}</p>
                {{#if data.phone}}<p><b>Số điện thoại:</b> {{data.phone}}</p>{{/if}}
                {{#if data.open}}<p><b>Thời gian mở cửa:</b> {{data.open}}</p>{{/if}}
                {{#if data.price}}<p><b>Giá vé(tham khảo):</b> {{data.price}}</p>{{/if}}
                {{#if data.service}}
                <p><b>Nơi này có gì</b></p>
                <div class="row">
                        {{#each data.service}}
                        <div class="col l-3 m-3 c-6">
                            <img src="http://drive.google.com/uc?export=view&id={{this.thumb_url}}" style="width: 24px; height:24px; margin-top:10px"/>
                            <p style="margin: 0px; font-size:14px">{{this.name}}</p>
                        </div>
                        {{/each}}
                </div>
                {{/if}}

            </div>
        </div>
    </div>
</div>

<div class="products-tab-container">
    <div class="products-tab">

        <ul>
            <li id="products-tab-item" class="products-tab-item products-tab-item-active">ĐÁNH GIÁ{{totalComment}}</li>
           <li id="products-tab-item" class="products-tab-item">MÔ TẢ</li>
           <li id="products-tab-item" class="products-tab-item">HÌNH ẢNH</li>
        </ul> 

        <div class="products-tab-content">
            <div class="products-tab-content-item products-tab-content-rate product-content-active">
                
                {{#each commentsData}}
                <div class="comment-container">
                    
                    <div style="text-align:center; background-color:rgb(67, 239, 90); width:40px; height:40px; border-radius:100%">
                        <p class="user-textName" style="line-height:40px; margin:0px; text-transform: uppercase; color:white; font-size:30px; font-weight:bold">{{this.username}}</p>
                        
                    </div>
                    <div style="width:80%; margin-left:2%; border-bottom:1px solid rgb(116, 109, 109)">
                       <p style="font-weight: bold; margin:0px; font-size:16px;word-wrap: break-word; margin-top:1%">{{this.username}}</p>
                       <p class="comment-time">{{this.time}}</p>
                       
                       
                       <p style="margin-top:1%; font-size:16px; word-wrap: break-word">{{this.content}}</p>
                      

                       {{#each this.rep_comments}}
                       <div class="comment-container">
                           <div style="text-align:center; background-color:rgb(67, 239, 90); width:40px; height:40px; border-radius:100%">
                              <p class="user-textName" style="line-height:40px; margin:0px; text-transform: uppercase; color:white; font-size:30px; font-weight:bold">{{this.username}}</p>
                           </div>

                           <div style="width:80%; margin-left:2%;">
                              <p style="font-weight: bold; margin:0px; font-size:16px;word-wrap: break-word; margin-top:1%">{{this.username}}</p>
                              <p class="comment-time">{{this.time}}</p>
                              
                              <p style="margin-top:1%; font-size:16px; word-wrap: break-word">{{this.content}}</p>
                           </div>
                        </div>                       
                       {{/each}}

                    </div>
                    
                </div>
                {{/each}}
            </div>
            <div class="products-tab-content-item products-tab-content-description"><p style="margin: 2% 2%;">{{data.description}}</p></div>
            <div class="products-tab-content-item products-tab-content-image">
                {{#if images}}
                {{#each images}}
                   <img src="http://drive.google.com/uc?export=view&id={{this.thumb_url}}" style="width: 70%;object-fit: cover; margin:1% 0%">
                 {{/each}}
                {{/if}}
            </div>
        </div>

    </div>  
</div>
    



</div>
<script>
    //
    const productsTabItem=document.getElementsByClassName('products-tab-item')
    const productsTabContentItem=document.getElementsByClassName('products-tab-content-item')
    for(let i=0; i< productsTabItem.length;i++){
        productsTabItem[i].onclick=(e)=>{
            for(let i=0; i<productsTabItem.length; i++){ 
                productsTabItem[i].classList.remove('products-tab-item-active')
                productsTabContentItem[i].classList.remove('product-content-active')   
            }
            productsTabItem[i].classList.add('products-tab-item-active')
            productsTabContentItem[i].classList.add('product-content-active')
        }
    }
    //
    var userTextName = document.getElementsByClassName("user-textName");
    for (let item of userTextName) {
        let name = item.innerText.slice(0, 1)
        item.innerText = name;
    }
    //
    const repBtn=document.getElementsByClassName('rep-comment-btn')
    const repForm=document.getElementsByClassName('rep-form')
    for(let i=0; i< repBtn.length;i++){
        repBtn[i].onclick=(e)=>{
            if(repBtn[i].innerText=='Hủy'){
                repForm[i].style.display='none'
                repBtn[i].innerText='Trả lời'
                return
            }
            repForm[i].style.display='block'
            repBtn[i].innerText='Hủy'
        }
    }
</script>